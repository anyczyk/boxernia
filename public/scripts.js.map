{"version":3,"file":"scripts.js","mappings":";;;;;;;;;;;;;;;;AAAsD;AACQ;AAC9D;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,UAAU,IAAI,OAAO,EAAE,WAAW,IAAI,KAAK;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,uCAAuC,wBAAwB,SAAS;AACxE;AACA;AACA,6CAA6C,OAAO;AACpD,mDAAmD,WAAW;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6JAA6J,WAAW,KAAK,QAAQ,YAAY,KAAK,cAAc,mBAAmB,KAAK,UAAU,eAAe;AACrQ;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,6EAAe;AACnD;AACA,iCAAiC;AACjC,yBAAyB;AACzB,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qEAAc;AAClC,oBAAoB,6EAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,KAAK,4BAA4B,KAAK;AACpF,sBAAsB;AACtB,8CAA8C,KAAK,4BAA4B,KAAK;AACpF;AACA;AACA;AACA;AACA,sDAAsD,QAAQ;AAC9D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,KAAK,4BAA4B,KAAK;AAC5E,cAAc;AACd,sCAAsC,KAAK,4BAA4B,KAAK;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;ACjPA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,8CAA8C,qBAAqB;AACnE,oBAAoB;AACpB;AACA;AACA,qBAAqB,2BAA2B,gCAAgC,oBAAoB,IAAI,0BAA0B;AAClI,oDAAoD,QAAQ;AAC5D,oBAAoB;AACpB,uFAAuF,UAAU;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,8DAA8D,mBAAmB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,uBAAuB,EAAE,KAAK,gCAAgC,kBAAkB,SAAS,WAAW,QAAQ,KAAK;AAC5I;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;;;;;;;;;;;;;;AC5HA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;AC/BO;AACP;AACA;;;;;;;;;;;;;;ACFO;AACP;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;ACpB2D;AACpD;AACP;AACA;AACA;AACA,SAAS,8DAAS;AAClB;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,YAAY,8DAAS;AACrB;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;ACxBA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gHAAgH,IAAI,SAAS,IAAI;AACjI,iEAAiE,SAAS,IAAI,mBAAmB,EAAE,+BAA+B;AAClI;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA,aAAa;AACb,UAAU,iJAAiJ;AAC3J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;;;;;;;;;;;;;;AC1GO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,iBAAiB;AACrE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qDAAqD,SAAS;AAC9D;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,oDAAoD,kBAAkB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;;;;;ACrFO;AACP;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;;ACTA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,qBAAqB,UAAU,mBAAmB;AAClD;AACA,yBAAyB,KAAK,GAAG,YAAY,EAAE,UAAU;AACzD;AACA;AACO;AACP,sBAAsB,KAAK;AAC3B,uCAAuC;AACvC,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UC1CA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;ACNa;AACb;AAC8D;AACQ;AACtE;AACA;AAC6D;AACM;AACd;AACK;AACF;AACL;AACI;AACvD;AACA,oEAAU;AACV,uEAAY;AACZ,4EAAc;AACd,qFAAe;AACf,6EAAc;AACd,kFAAiB;AACjB,yEAAa;AACb,mEAAS;AACT,sEAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA","sources":["webpack://sass-project/./assets/js/scripts/ajaxSettings.js","webpack://sass-project/./assets/js/scripts/blocks/news-block.js","webpack://sass-project/./assets/js/scripts/blocks/slider-news-block.js","webpack://sass-project/./assets/js/scripts/btnBackToTop.js","webpack://sass-project/./assets/js/scripts/button-facebook-box.js","webpack://sass-project/./assets/js/scripts/cookies-info-box.js","webpack://sass-project/./assets/js/scripts/gallery-modal.js","webpack://sass-project/./assets/js/scripts/main-bar-nav.js","webpack://sass-project/./assets/js/scripts/window-sharing.js","webpack://sass-project/./assets/js/utils/functions.js","webpack://sass-project/webpack/bootstrap","webpack://sass-project/webpack/runtime/define property getters","webpack://sass-project/webpack/runtime/hasOwnProperty shorthand","webpack://sass-project/webpack/runtime/make namespace object","webpack://sass-project/./assets/js/scripts.js"],"sourcesContent":["import {blockNewsBlock} from './blocks/news-block.js';\r\nimport {sliderNewsBlock} from \"./blocks/slider-news-block.js\";\r\n\r\nexport const ajaxSettings = () => {\r\n    const entryContent = document.querySelector('.entry-content');\r\n    const homePageId = parseInt(document.body.getAttribute('data-homepage-id'));\r\n    const siteId = parseInt(document.body.getAttribute('data-site-id'));\r\n    const bskPartners = document.querySelector('.bsk-partners');\r\n    const lang = (siteId === 2) ? '/en' : '';\r\n\r\n    function loadPage(pageId, hasNewsSlug, slug, clickInMainMenu) {\r\n        const postType = lang + (hasNewsSlug ? '/wp-json/wp/v2/posts/' : '/wp-json/wp/v2/pages/');\r\n\r\n        fetch(postType + pageId)\r\n            .then(response => response.text())\r\n            .then(html => {\r\n\r\n                // console.log('pageId::::',pageId);\r\n                const wpAdmin = document.querySelector('#wpadminbar');\r\n                if(wpAdmin) {\r\n                    const wpAdminBarEdit = wpAdmin.querySelector('#wp-admin-bar-edit a');\r\n                    if(wpAdminBarEdit) {\r\n                        const oldUrl = wpAdminBarEdit.getAttribute('href',);\r\n                        const post = oldUrl.match(/post=([^&]+)/)[1];\r\n                        const newUrl = oldUrl.replace(\"post=\" + post, \"post=\" + pageId);\r\n                        wpAdminBarEdit.setAttribute('href', newUrl);\r\n                        if(hasNewsSlug) {\r\n                            wpAdminBarEdit.innerText = 'Edytuj wpis';\r\n                        } else {\r\n                            wpAdminBarEdit.innerText = 'Edytuj stronę';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const obj = JSON.parse(html);\r\n                // console.log('o:',obj);\r\n\r\n                let content = obj.content.rendered;\r\n                const title = obj.title.rendered;\r\n\r\n                const pageContent = document.querySelector('.entry-content');\r\n\r\n                const plainContent = content.replace(/(<([^>]+)>)/gi, \"\");\r\n                const shortContent = (obj.excerpt.rendered ? obj.excerpt.rendered : plainContent.substring(0, 80)).trim();\r\n                const shortContentFormat = (shortContent ? shortContent :  'BSK Boxernia Serca Krakowa - treningi bokserkie Kraków').replace(/(<([^>]+)>)/gi, \"\");\r\n                const shortContentForUrl = encodeURIComponent(shortContentFormat);\r\n\r\n                document.querySelector('[property=\"og:title\"]').setAttribute('content',title);\r\n                document.querySelector('[property=\"og:description\"]').setAttribute('content',shortContentFormat);\r\n\r\n                if(hasNewsSlug) { // postType post\r\n                    const inputDate = new Date(obj.date);\r\n                    // const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n                    // const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\n                    const daysOfWeek = ['niedziela', 'poniedziałek', 'wtorek', 'środa', 'czwartek', 'piątek', 'sobota'];\r\n                    const months = ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień'];\r\n\r\n                    const dayOfWeek = daysOfWeek[inputDate.getDay()];\r\n                    const dayOfMonth = inputDate.getDate();\r\n                    const month = months[inputDate.getMonth()];\r\n                    const year = inputDate.getFullYear();\r\n                    const outputDate = `${dayOfWeek}, ${month} ${dayOfMonth}, ${year}`;\r\n                    const imageId = obj?.featured_media;\r\n                    const themeUrl = document.body.getAttribute(\"data-theme-url\");\r\n\r\n                    const titleForUrl = encodeURIComponent(title);\r\n                    const linkForUrl = encodeURIComponent(obj.link);\r\n                    let imageUrlForUrl = encodeURIComponent(themeUrl + '/assets/images/logo6.png');\r\n\r\n                    if(bskPartners) {\r\n                        bskPartners.classList?.remove('bg-color-light-sand');\r\n                        bskPartners.classList?.add('bg-color-white');\r\n                    }\r\n\r\n                    fetch(imageId ? lang + \"/wp-json/wp/v2/media/\" + imageId : themeUrl + '/assets/js/scripts/ajaxSettingsFix.json')\r\n                        .then(response => response.json())\r\n                        .then(image => {\r\n                            const imageUrl = image.source_url;\r\n                            if(imageUrl) {\r\n                                document.querySelector('[property=\"og:image\"]').setAttribute('content',imageUrl);\r\n                                imageUrlForUrl = encodeURIComponent(imageUrl);\r\n                            } else {\r\n                                document.querySelector('[property=\"og:image\"]').setAttribute('content',themeUrl + '/assets/images/logo6.png');\r\n                            }\r\n\r\n                            content = `\r\n                                <div class=\"bsk-banner bsk-banner--small py-2\">\r\n                                    ${ imageUrl ? `<img src=\"${imageUrl}\" class=\"bsk-banner__image wp-post-image\" alt=\"\" decoding=\"async\">` : ''}\r\n                                    <div class=\"container container--768 text-center py-2\">\r\n                                        <h1 class=\"bsk-banner__title\">\r\n                                           ${title} </h1>\r\n                                        <p><span>${outputDate}</span></p>\r\n                                    </div>\r\n                                </div>\r\n                                <section class=\"bsk-default-content bg-color-white py-0 py-sm-5\">\r\n                                    <div class=\"container px-0 px-sm-3\">\r\n                                        <div class=\"bsk-default-border px-3 px-lg-0 py-3 py-lg-5 bg-color-light-sand\">\r\n                                            <div class=\"container--768 mx-auto\">\r\n                                                <nav class=\"bsk-default-content__social-sharing\">\r\n                                                    <ul>\r\n                                                        <li class=\"bsk-ico-facebook\">\r\n                                                            <a class=\"bsk-window-share\" target=\"_blank\" href=\"https://www.facebook.com/sharer/sharer.php?u=${linkForUrl}&amp;title=${titleForUrl}&amp;description=${shortContentForUrl}&amp;picture=${imageUrlForUrl}\" aria-label=\"Udostępnij post na Facebook\" title=\"Udostępnij post na Facebook\"></a>\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </nav>\r\n                                                ${content}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </section>`\r\n                            pageContent.innerHTML = content;\r\n                            document.querySelector('title').innerHTML = obj.title.rendered;\r\n                            const dataSliderForSingleId = document.body.getAttribute('data-slider-for-single-id');\r\n                            fetch(lang + '/wp-json/wp/v2/elements/' + dataSliderForSingleId)\r\n                                .then(response => response.text())\r\n                                .then(html => {\r\n                                    const obj = JSON.parse(html);\r\n                                    const content = obj.content.rendered;\r\n                                    pageContent.innerHTML += content;\r\n                                    sliderNewsBlock();\r\n                                    document.body.classList.remove('entry-content-loading');\r\n                                });\r\n                        });\r\n                } else {\r\n                    pageContent.innerHTML = content;\r\n                    document.querySelector('title').innerHTML = obj.title.rendered;\r\n\r\n                    if(bskPartners) {\r\n                        bskPartners.classList?.remove('bg-color-white');\r\n                        bskPartners.classList?.add('bg-color-light-sand');\r\n                    }\r\n\r\n                    blockNewsBlock();\r\n                    sliderNewsBlock();\r\n                    document.body.classList.remove('entry-content-loading');\r\n                }\r\n\r\n                const wpcf7Forms = entryContent.querySelectorAll('.wpcf7-form');\r\n\r\n                wpcf7Forms?.forEach(function(e) {\r\n                    return wpcf7.init(e);\r\n                });\r\n\r\n                if(!clickInMainMenu) {\r\n                    const ajaxMmenu =  document.querySelectorAll('.ajax-menu-main a');\r\n\r\n                    ajaxMmenu.forEach(link => {\r\n                        if(slug) {\r\n                            if(link.getAttribute('href').includes(slug)) {\r\n                                link.closest('.menu-item')?.classList.add('current-menu-item', 'current_page_item');\r\n                            }\r\n                        } else {\r\n                            ajaxMmenu[0].closest('.menu-item')?.classList.add('current-menu-item', 'current_page_item');\r\n                        }\r\n                    });\r\n                }\r\n            }).catch(error => console.error(error));\r\n    }\r\n\r\n    document.addEventListener('click', async e => {\r\n        const {target} = e;\r\n        const tragetHref = target.closest('[href]');\r\n        if ((target.closest('.ajax-menu') || target.closest('.ajax-link')) && tragetHref && tragetHref.getAttribute('href')) {\r\n            const url = tragetHref.getAttribute('href');\r\n            const checkUrl = new URL(url);\r\n            if (checkUrl.hostname === window.location.hostname) {\r\n                e.preventDefault();\r\n                document.body.classList.add('entry-content-loading');\r\n                document.body.click();\r\n                document.querySelector('.bsk-btn-back-to-top--show')?.click();\r\n\r\n                const currentMenuItem = document.querySelector(\".current-menu-item\");\r\n                currentMenuItem?.classList.remove('current-menu-item', 'current_page_item');\r\n\r\n                let clickInMainMenu = false;\r\n                if(tragetHref.closest('.ajax-menu-main')) {\r\n                    // console.log(\"click in main menu\");\r\n                    tragetHref.closest('.menu-item').classList.add('current-menu-item', 'current_page_item');\r\n                    clickInMainMenu = true;\r\n                }\r\n\r\n                const segments = url.split(\"/\");\r\n                const hasNewsSlug = segments.some((segment) => segment.includes(\"news\"));\r\n                const endPath = segments.slice(3).join('/');\r\n\r\n                const pathArray = url.split('/').filter(part => part !== '');\r\n                // console.log(\"x:\",pathArray.length);\r\n                let pageId = homePageId; // homepage\r\n                let slug = false;\r\n                if (pathArray.length > (lang ? 3 : 2)) {\r\n                    slug = pathArray[pathArray.length - 1];\r\n                    // console.log('slug', slug);\r\n                    let page;\r\n                    if(!hasNewsSlug) {\r\n                        page = await fetch(`${lang}/wp-json/wp/v2/pages?slug=${slug}`).then(response => response.json());\r\n                    } else {\r\n                        page = await fetch(`${lang}/wp-json/wp/v2/posts?slug=${slug}`).then(response => response.json());\r\n                        // console.log('page[0].id:', page[0].id);\r\n                    }\r\n                    console.log('page: ',page);\r\n                    pageId = page[0].id;\r\n                    history.pushState(null, null, `/${endPath}`);\r\n                } else {\r\n                    history.pushState(null, null, lang ? lang : '/');\r\n                }\r\n\r\n                loadPage(pageId, hasNewsSlug, slug, clickInMainMenu);\r\n            }\r\n        }\r\n    });\r\n\r\n    window.addEventListener('popstate', async (e) => {\r\n        const url = document.location.href;\r\n        const segments = url.split(\"/\");\r\n        const hasNewsSlug = segments.some((segment) => segment.includes(\"news\"));\r\n\r\n        const pathArray = url.split('/').filter(part => part !== '');\r\n        const currentMenuItem = document.querySelector(\".current-menu-item\");\r\n        currentMenuItem?.classList.remove('current-menu-item', 'current_page_item');\r\n\r\n        let pageId = homePageId; // homepage\r\n\r\n        let slug = false;\r\n        if (pathArray.length > (lang ? 3 : 2)) {\r\n            slug = pathArray[pathArray.length - 1];\r\n            // console.log('slug', slug);\r\n            let page;\r\n            if(!hasNewsSlug) {\r\n                page = await fetch(`${lang}/wp-json/wp/v2/pages?slug=${slug}`).then(response => response.json());\r\n            } else {\r\n                page = await fetch(`${lang}/wp-json/wp/v2/posts?slug=${slug}`).then(response => response.json());\r\n                // console.log('page[0].id:', page[0].id);\r\n            }\r\n            pageId = page[0].id;\r\n        }\r\n\r\n        e.preventDefault();\r\n        loadPage(pageId, hasNewsSlug, slug);\r\n    });\r\n\r\n};","/* News block */\r\nconst htmlElements = (post, image, elements) => {\r\n    const postDate = post.date;\r\n    const options = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'};\r\n    const dateObj = new Date(postDate);\r\n    const dateStr = dateObj.toLocaleDateString('pl-PL', options);\r\n    return `\r\n                <div class=\"bsk-tile__image ${elements.filterSepia}\">\r\n                  ${image ? '<img src=\"' + image + '\" alt=\"BSK Boxernia\">' : '<img src=\"' + window.location.origin + '/wp-content/themes/boxernia/assets/images/bsk.webp\" alt=\"BSK Boxernia\">'}\r\n                </div>\r\n                <div class=\"bsk-tile__text p-4\">\r\n                  <${elements.newsTagTitleTile} class=\"bsk-tile__title-slide\">${post.title.rendered}</${elements.newsTagTitleTile}>\r\n                  <p class=\"bsk-tile__date\"><span>${dateStr}</span></p>\r\n                  ${post.excerpt ? '<p class=\"bsk-tile__description\">' + post.excerpt.rendered.replace(/<[^>]+>/g, '') + '</p>' : '<p class=\"bsk-tile__description\">' + post.content.rendered.replace(/<[^>]+>/g, '') + '</p>'}\r\n                  <a class=\"bsk-tile__btn bsk-btn-1 mt-auto mx-auto ajax-link\" href=\"${post.link}\">Czytaj więcej</a>\r\n                </div>\r\n            `\r\n};\r\n\r\nconst loadAjax = (type, target, isLoading, page, elements, postsOrder, dataPostsPerPages) => {\r\n    if (!isLoading) {\r\n        isLoading = true;\r\n        target.innerHTML = 'Wczytywanie...';\r\n\r\n        if(type === 'load-start-asc') {\r\n            elements.list.innerHTML = '';\r\n        }\r\n\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4 && xhr.status === 200) {\r\n                const data = JSON.parse(xhr.responseText);\r\n\r\n                data.forEach(post => {\r\n                    const li = document.createElement('li');\r\n                    li.classList.add('bsk-tile', 'g-col-12', 'g-col-sm-6', 'g-col-md-4');\r\n\r\n                    let image = false;\r\n                    const mediaId = post.featured_media;\r\n                    if (mediaId) {\r\n                        const mediaEndpoint = post._links['wp:featuredmedia'][0].href;\r\n\r\n                        fetch(mediaEndpoint)\r\n                            .then(response => response.json())\r\n                            .then(data => {\r\n                                const thumbnailUrl = data.source_url;\r\n                                console.log(\"post\", post);\r\n                                image = thumbnailUrl;\r\n                                li.innerHTML = htmlElements(post, image, elements);\r\n                            })\r\n                            .catch(error => console.error(error));\r\n                    } else {\r\n                        li.innerHTML = htmlElements(post, image, elements);\r\n                    }\r\n\r\n                    elements.list.appendChild(li);\r\n                });\r\n\r\n                isLoading = false;\r\n\r\n                if(type === 'load-start-asc') {\r\n                    target.innerHTML = postsOrder === 'asc' ? `Wczytaj posty od najnowszego` : `Wczytaj posty od najstarszego`;\r\n                } else if(type === 'laod-more') {\r\n                    target.innerHTML = `Wczytaj kolejne max ${dataPostsPerPages} postów`;\r\n                }\r\n            }\r\n        };\r\n\r\n        const siteId = parseInt(document.body.getAttribute('data-site-id'));\r\n        const lang = (siteId === 2) ? '/en' : '';\r\n\r\n        xhr.open('GET', `${window.location.origin}${lang}/wp-json/wp/v2/posts?per_page=${dataPostsPerPages}&order=${postsOrder}&page=${page}`);\r\n        xhr.send();\r\n    }\r\n};\r\n\r\nexport const blockNewsBlock = () => {\r\n    const bskNewsAll = document.querySelectorAll('.bsk-news');\r\n    if(bskNewsAll.length) {\r\n        console.log(\"blockNewsBlock loaded\");\r\n        bskNewsAll.forEach(bskNews => {\r\n            let page = 2;\r\n            let isLoading = false;\r\n            let postsOrder = bskNews.getAttribute(\"data-posts-order\").toLowerCase();\r\n            const dataPostsPerPages = bskNews.getAttribute(\"data-posts-per-pages\");\r\n            const dataCountPosts = bskNews.getAttribute(\"data-count-posts\");\r\n            const btnLoadMore = bskNews.querySelector(\".bsk-tile__btn-load-more\");\r\n            const elements = {\r\n                list: bskNews.querySelector('.bsk-news__list'),\r\n                filterSepia: bskNews.getAttribute(\"data-filter-sepia\") ? 'filter-sepia' : '',\r\n                newsTagTitleTile: bskNews.getAttribute(\"data-tag-title-tile\") ? bskNews.getAttribute(\"data-tag-title-tile\") : 'h3',\r\n            };\r\n\r\n            bskNews.addEventListener('click', function (e) {\r\n                const {target} = e;\r\n                if(target.classList.contains(\"bsk-tile__btn-load-more\")) {\r\n                    loadAjax('laod-more', target, isLoading, page, elements, postsOrder, dataPostsPerPages);\r\n                    bskNews.querySelector(\".bsk-news__count-posts-show\").innerText = page * dataPostsPerPages;\r\n                    page++;\r\n                    if((page*dataPostsPerPages - dataPostsPerPages) >= dataCountPosts) {\r\n                        btnLoadMore.setAttribute(\"disabled\", true);\r\n                        bskNews.querySelector(\".bsk-news__count-posts-show\").innerText = dataCountPosts;\r\n                        // btnLoadMore.classList.add(\"d-none\");\r\n                    }\r\n                } else if(target.classList.contains(\"bsk-tile__btn-load-start\")) {\r\n                    if(postsOrder === 'asc') {\r\n                        postsOrder = 'desc';\r\n                    } else {\r\n                        postsOrder = 'asc';\r\n                    }\r\n                    loadAjax('load-start-asc', target, isLoading, 1, elements, postsOrder, dataPostsPerPages);\r\n                    bskNews.querySelector(\".bsk-news__count-posts-show\").innerText = dataPostsPerPages;\r\n                    page=2;\r\n                    if(page*dataPostsPerPages >= dataCountPosts) {\r\n                        // btnLoadMore.classList.add(\"d-none\");\r\n                        btnLoadMore.setAttribute(\"disabled\",true);\r\n                    } else {\r\n                        // btnLoadMore.classList.remove(\"d-none\");\r\n                        btnLoadMore.removeAttribute(\"disabled\");\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n}","// import Swiper from 'swiper';\r\n\r\nexport const sliderNewsBlock = () => {\r\n    const bskSlider = document.querySelectorAll(\".bsk-slider\");\r\n    if(bskSlider.length) {\r\n        console.log(\"sliderNewsBlock loaded\");\r\n        const swiper = new Swiper(\".bsk-slider__swiper\", {\r\n            slidesPerView: 1,\r\n            spaceBetween: 32,\r\n            loop: false,\r\n            centeredSlides: false,\r\n            slideVisibleClass: true,\r\n            preloadImages: true,\r\n            navigation: {\r\n                prevEl: '.bsk-slider__swiper-prev',\r\n                nextEl: '.bsk-slider__swiper-next',\r\n            },\r\n            pagination: {\r\n                el: \".swiper-pagination\",\r\n                clickable: true,\r\n            },\r\n            breakpoints: {\r\n                576: {\r\n                    slidesPerView: 2,\r\n                },\r\n                992: {\r\n                    slidesPerView: 3,\r\n                },\r\n            }\r\n        })\r\n    }\r\n};","export const backToTop = () => {\r\n\r\n};","export const buttonFacebookBox = () => {\r\n    document.addEventListener(\"click\", e => {\r\n        const {target} = e;\r\n        if(target.closest(\".bsk-facebook-box__button\")) {\r\n            target.closest(\".bsk-facebook-box\").classList.toggle(\"bsk-facebook-box--active\");\r\n        }\r\n        const bskFacebookBoxActive = document.querySelector(\".bsk-facebook-box--active\");\r\n        if(bskFacebookBoxActive && !target.matches(\".bsk-facebook-box *\")) {\r\n            bskFacebookBoxActive.classList.remove(\"bsk-facebook-box--active\");\r\n        }\r\n    });\r\n\r\n    /* Facebook box */\r\n    (function(d, s, id) {\r\n        let js, fjs = d.getElementsByTagName(s)[0];\r\n        if (d.getElementById(id)) return;\r\n        js = d.createElement(s); js.id = id;\r\n        js.src = \"//connect.facebook.net/pl_PL/sdk.js#xfbml=1&appId=150620281795445&version=v2.0\";\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n    }(document, 'script', 'facebook-jssdk'));\r\n};","import {setCookie, getCookie} from '../utils/functions.js';\r\nexport const cookiesInfoBox = () => {\r\n    /* Cookies bar */\r\n    const body = document.body;\r\n    const bskCookiesBanner = document.querySelector('.bsk-cookies-banner');\r\n    if (!getCookie(\"cookiesAccepted\")) {\r\n        bskCookiesBanner.classList.add(\"d-flex\");\r\n    } else {\r\n        body.classList.add(\"bsk-cookies-accept\");\r\n    }\r\n\r\n    document.addEventListener(\"click\", e => {\r\n        const { target } = e;\r\n        /* Cookies info box */\r\n        if(target.classList.contains(\"bsk-cookies-banner__accept-cookies-btn\")) {\r\n            setCookie(\"cookiesAccepted\", true, 365);\r\n            bskCookiesBanner.classList.add(\"d-none\");\r\n            body.classList.add(\"bsk-cookies-accept\");\r\n        } else if(target.classList.contains(\"bsk-cookies-banner__reject-cookies-btn\")) {\r\n            bskCookiesBanner.classList.add(\"d-none\");\r\n            body.classList.add(\"bsk-cookies-reject\");\r\n        }\r\n    });\r\n\r\n};","// import Swiper from 'swiper';\r\n\r\nexport const galleryModal = () => {\r\n    // it needs fix\r\n    const tabInModal = (e) => {\r\n        console.log(\"x:\", e.target);\r\n        if(e.key === \"Tab\" && e.target.classList.contains(\"bsk-modal-gallery__swiper-next\")) {\r\n            console.log(\"x\");\r\n            e.target.closest(\".bsk-modal-gallery\").querySelector(\".bsk-modal-gallery__tab\").focus();\r\n        }\r\n    };\r\n\r\n    document.addEventListener(\"click\", e => {\r\n        const { target } = e;\r\n        const blockImage = target.closest(\".wp-block-image a\");\r\n\r\n        /* modal */\r\n        if(blockImage && target.closest(\".wp-block-gallery\")) {\r\n            e.preventDefault();\r\n            const modalBg = document.createElement(\"div\");\r\n            const modal = document.createElement(\"div\");\r\n            modal.classList.add(\"bsk-modal-gallery\", \"modal\", \"fade\");\r\n            const images = target.closest(\".wp-block-gallery\");\r\n\r\n            const imageItem = e.target.closest(\".wp-block-image\");\r\n            const imageWrap = imageItem.parentNode;\r\n            const indexThisImage = Array.from(imageWrap.children).indexOf(imageItem);\r\n            console.log(indexThisImage);\r\n\r\n            const htmlSlider = document.createElement(\"div\");\r\n            const imageLinks = images.querySelectorAll(\"a\");\r\n            images.querySelectorAll(\"a\").forEach((linkImg, index) => {\r\n                const caption = linkImg.parentNode.querySelector(\".wp-element-caption\")?.innerText;\r\n                console.log(\"caption:\", caption);\r\n\r\n                const url = linkImg.getAttribute(\"href\");\r\n                const alt = linkImg.querySelector(\"img\")?.getAttribute(\"alt\");\r\n                htmlSlider.innerHTML += `<div class=\"swiper-slide\"><img class=\"bsk-modal-gallery__image\" src=\"${url}\" alt=\"${alt}\" />\r\n                <figcaption class=\"bsk-modal-gallery__caption\">${index+1} / ${imageLinks.length} ${caption ? ' - ' + caption : ''}</figcaption>\r\n            </div>`;\r\n            });\r\n\r\n            modal.innerHTML = `\r\n          <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n              <button class=\"bsk-modal-gallery__tab\"></button>\r\n              <button class=\"bsk-modal-gallery__close btn btn-secondary\" aria-label=\"Close modal\"></button>\r\n              <div class=\"modal-body\">\r\n                  <div class=\"swiper bsk-modal-gallery-swiper-gallery\">\r\n                    <div class=\"swiper-wrapper\">\r\n                        ${htmlSlider.innerHTML}\r\n                    </div>\r\n                    <button class=\"bsk-modal-gallery__swiper-prev\" aria-label=\"Prev\"></button>\r\n                    <button class=\"bsk-modal-gallery__swiper-next\" aria-label=\"Next\"></button>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n          </div>`;\r\n            modalBg.classList.add(\"bsk-modal-gallery-bg\", \"modal-backdrop\", \"fade\");\r\n            document.body.appendChild(modalBg);\r\n            document.body.appendChild(modal);\r\n            document.body.classList.add(\"overflow-hidden\",\"modal-open\");\r\n            setTimeout(() => {\r\n                modalBg.classList.add(\"show\");\r\n                modal.classList.add(\"show\",\"d-block\");\r\n\r\n                const swiperGallery = new Swiper(\".bsk-modal-gallery-swiper-gallery\", {\r\n                    initialSlide: indexThisImage,\r\n                    autoHeight: true,\r\n                    preloadImages: true,\r\n                    navigation: {\r\n                        nextEl: \".bsk-modal-gallery__swiper-next\",\r\n                        prevEl: \".bsk-modal-gallery__swiper-prev\",\r\n                    },\r\n                });\r\n\r\n                modal.querySelector(\".bsk-modal-gallery__tab\").focus();\r\n\r\n                document.addEventListener('keydown', tabInModal);\r\n            });\r\n\r\n\r\n\r\n        }\r\n        else if(target.classList.contains(\"bsk-modal-gallery-bg\")) { // only background modal\r\n            target.classList.remove(\"show\");\r\n            document.body.classList.remove(\"overflow-hidden\",\"modal-open\");\r\n            setTimeout(() => {\r\n                target.remove();\r\n            },300);\r\n        } else if(target.closest(\".bsk-modal-gallery\") && (!target.matches(\".modal-dialog *\") || target.classList.contains(\"bsk-modal-gallery__close\"))) { // background modal and modal\r\n            document.body.classList.remove(\"overflow-hidden\",\"modal-open\");\r\n            const bskModalBg = document.querySelector(\".bsk-modal-gallery-bg\");\r\n            const bskModal = target.closest(\".bsk-modal-gallery\");\r\n            bskModalBg.classList.remove(\"show\");\r\n            bskModal.classList.remove(\"show\");\r\n            setTimeout(() => {\r\n                const swiperGalleryNode = document.querySelector(\".bsk-modal-gallery-swiper-gallery\");\r\n                swiperGalleryNode.swiper.destroy();\r\n                bskModalBg.remove();\r\n                bskModal.remove();\r\n\r\n                document.removeEventListener('keydown', tabInModal);\r\n            },300);\r\n        }\r\n    });\r\n};","export const mainBarNav = () => {\r\n    const bskMainBar = document.querySelector(\".bsk-main-bar\");\r\n    const hamburger = document.querySelector(\".bsk-main-bar__hamburger\");\r\n    const btnBackToTop = document.querySelector('.bsk-btn-back-to-top');\r\n    const hideMenu = () => {\r\n        hamburger.classList.remove(\"bsk-main-bar__hamburger--active\");\r\n    };\r\n\r\n    if(bskMainBar) {\r\n        const bskMinBarScroll = () => {\r\n            const scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n\r\n            if(scrollTop > 92) {\r\n                bskMainBar.classList.add(\"bsk-main-bar--scroll\");\r\n                btnBackToTop.classList.add(\"bsk-btn-back-to-top--show\");\r\n            } else {\r\n                bskMainBar.classList.remove(\"bsk-main-bar--scroll\");\r\n                btnBackToTop.classList.remove(\"bsk-btn-back-to-top--show\");\r\n            }\r\n        }\r\n        bskMinBarScroll();\r\n        window.addEventListener(\"scroll\", bskMinBarScroll);\r\n\r\n        hamburger?.addEventListener(\"click\", (e) => {\r\n            e.target.classList.toggle(\"bsk-main-bar__hamburger--active\");\r\n        });\r\n\r\n        document.addEventListener(\"click\", (e) => {\r\n            const eTarget = e.target;\r\n            if(!eTarget.matches(\".bsk-main-bar *\") && hamburger.classList.contains(\"bsk-main-bar__hamburger--active\")) {\r\n                hideMenu();\r\n            }\r\n        });\r\n    }\r\n\r\n    /* Hide mobile menu by touch and mouse */\r\n    const bskMainBarMenu = document.querySelector('.bsk-main-bar__menu');\r\n    let isDragging = false;\r\n    let startX = 0;\r\n\r\n    bskMainBarMenu.addEventListener('mousedown', ({ button, clientX }) => {\r\n        if (button === 0) {\r\n            isDragging = true;\r\n            startX = clientX;\r\n        }\r\n    });\r\n\r\n    bskMainBarMenu.addEventListener('touchstart', ({ touches }) => {\r\n        if (touches.length === 1) {\r\n            isDragging = true;\r\n            startX = touches[0].clientX;\r\n        }\r\n    });\r\n\r\n    bskMainBarMenu.addEventListener('mousemove', ({ buttons, clientX }) => {\r\n        if (isDragging && buttons === 1) {\r\n            const distance = clientX - startX;\r\n            if (distance >= 100) {\r\n                hideMenu();\r\n                isDragging = false;\r\n            }\r\n        }\r\n    });\r\n\r\n    bskMainBarMenu.addEventListener('touchmove', ({ touches }) => {\r\n        if (isDragging && touches.length === 1) {\r\n            const distance = touches[0].clientX - startX;\r\n            if (distance >= 100) {\r\n                hideMenu();\r\n                isDragging = false;\r\n            }\r\n        }\r\n    });\r\n\r\n    ['mouseup', 'touchend'].forEach((event) => {\r\n        bskMainBarMenu.addEventListener(event, () => isDragging = false);\r\n    });\r\n\r\n\r\n    btnBackToTop.addEventListener('click', () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        });\r\n    });\r\n};","export const windowSharing = () => {\r\n    document.addEventListener(\"click\", e => {\r\n        const {target} = e;\r\n        if(target.classList.contains(\"bsk-window-share\")) {\r\n            e.preventDefault();\r\n            const url = target.getAttribute(\"href\");\r\n            window.open(url,\"_blank\",\"menubar=1,resizable=1,width=555,height=555\");\r\n        }\r\n    });\r\n};","/* Global functions */\r\n\r\nexport const debounce = (func, wait, immediate) => {\r\n    let timeout;\r\n    return function () {\r\n        const context = this,\r\n            args = arguments\r\n        const later = function () {\r\n            timeout = null\r\n            if (!immediate) func.apply(context, args)\r\n        }\r\n        const callNow = immediate && !timeout\r\n        clearTimeout(timeout)\r\n        timeout = setTimeout(later, wait)\r\n        if (callNow) func.apply(context, args)\r\n    }\r\n}\r\n\r\n\r\nexport const setCookie = (name, value, days) => {\r\n    let expires = \"\";\r\n    if (days) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n        expires = `; expires=${date.toUTCString()}`;\r\n    }\r\n    document.cookie = `${name}=${value || \"\"}${expires}; path=/`;\r\n}\r\n\r\nexport const getCookie = (name) => {\r\n    const nameEQ = `${name}=`;\r\n    const ca = document.cookie.split(';');\r\n    for (let i = 0; i < ca.length; i++) {\r\n        let c = ca[i];\r\n        while (c.charAt(0) === ' ') {\r\n            c = c.substring(1, c.length);\r\n        }\r\n        if (c.indexOf(nameEQ) === 0) {\r\n            return c.substring(nameEQ.length, c.length);\r\n        }\r\n    }\r\n    return null;\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\r\n// Blocks:\r\nimport {blockNewsBlock} from './scripts/blocks/news-block.js';\r\nimport {sliderNewsBlock} from \"./scripts/blocks/slider-news-block.js\";\r\n\r\n// Generally scripts:\r\nimport {cookiesInfoBox} from \"./scripts/cookies-info-box.js\";\r\nimport {buttonFacebookBox} from \"./scripts/button-facebook-box.js\";\r\nimport {mainBarNav} from './scripts/main-bar-nav.js';\r\nimport {windowSharing} from './scripts/window-sharing.js';\r\nimport {galleryModal} from './scripts/gallery-modal.js';\r\nimport {backToTop} from './scripts/btnBackToTop.js'\r\nimport {ajaxSettings} from \"./scripts/ajaxSettings.js\";\r\n\r\nmainBarNav();\r\ngalleryModal();\r\ncookiesInfoBox();\r\nsliderNewsBlock();\r\nblockNewsBlock();\r\nbuttonFacebookBox();\r\nwindowSharing();\r\nbackToTop();\r\najaxSettings();\r\n\r\n\r\n/* AOS */\r\n// AOS.init({\r\n//     easing: 'ease-out-back',\r\n//     duration: 1000\r\n// });\r\n\r\n\r\n\r\n\r\n"],"names":[],"sourceRoot":""}